## TDD 的基本原则

1. 当且仅当存在失败的自动化测试时，才开始编写生产代码；
2. 消除坏味道（Bad Smell）

那么根据 TDD 的基本原则，Kent Beck 将开发工作分成了三步，也就是后世广为流传的测试驱动开发咒语——红 / 绿 / 重构（Red/Green/Refactoring）：

- 红：编写一个失败的小测试，甚至可以是无法编译的测试；
- 绿：让这个测试快速通过，甚至不惜犯下任何罪恶；
- 重构：消除上一步中产生的所有重复（坏味道）。

然而红 / 绿 / 重构循环仅仅关注单个测试这个层面，它没有回答测试从何而来。于是很多尝试采用 TDD 的人都卡在了第零步：我该写哪些测试？

# 任务分解法，将任务列表作为 TDD 的核心要素

任务分解法的步骤如下：

1. 大致构思软件被使用的方式，把握对外接口的方向；
2. 大致构思功能的实现方式，划分所需的组件（Component）以及组件间的关系（所谓的架构）。当然，如果没思路，也可以不划分；
3. 根据需求的功能描述拆分功能点，功能点要考虑正确路径（Happy Path）和边界条件（Sad Path）；
4. 依照组件以及组件间的关系，将功能拆分到对应组件；
5. 针对拆分的结果编写测试，进入红 / 绿 / 重构循环。
